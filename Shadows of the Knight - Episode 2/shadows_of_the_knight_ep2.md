# Shadows of the Knight - Episode 2
Для меня пока что самая интересная [задача](https://www.codingame.com/training/expert/shadows-of-the-knight-episode-2), так как требует конвертировать геометрическое решение задачи в программное. К сожалеюнию, полноценно данную задачу я решить не смог, не хватило знаний в алгоритмизации решения.

## Решение
Предоставленое мной решение проходит лишь 5 тестов из 8. Определение следующей точки для прыжка по большей части основнано на эвристике, то-есть формулы "подобраны" от части интуитивно. Я уверен (и я уже нашел такое решение), что можно найти способ пройти все тесты, делая бинарный поиск по каждой оси отдельно, подобрав формулы для поиска следующей точки досточно удачно.

Я не считаю, что похожее решение является верным, так как оно выполнит лишь похожие тесты.

Оптимальным решением будет постоянная попытка разделить оставшуюся плоскость пополам.
Для этого нужно:
1. Определить центр плоскости 
   - С помощью $x_{min} + \frac{x_{max}}{2}$ и так же с y
   - Или
   - С помощью нахождения "центра масс", сложив все x и y, попадающие в плоскость и поделив их на количество этих x и y
2. Сделать прыжок зеркальный от центра плоскости
3. Найти центр отрезка, образовавшегося между предыдущей и текущей точкой прыжка $( \frac{x_1 + x_2}{2}, \frac{y_1 + y_2}{2} )$
4. Определить формулу перпендикуляра относительно центральной точки на прямой
   - Найти наклон полученной прямой, конвертировать его в наклон перпендикуляра $AB_{slope} = \frac{Rise}{Run} = \frac{y_2 - y_1}{x_2 - x_1}$ $AB⟂_{slope} = -\frac{AB_{Run}}{AB_{Rise}}$
   - Вывести из формулы $y = mx + c$ константу $c$, подставив туда $x_{mid}, y_{mid}$
   - Для примера возьмем $m = \frac{5}{3}, c = -4$
   - Получим формулу пермендикуляра $y = \frac{5}{3}*x - 4$
   - С помощью этой формулы можно определить какие точки лежат на прямой и будут разделять нашу плоскость
5. На основании ответа "ближе, дальше" определять какую плоскость дальше делить
6. Повторять, пока не выдаст "такое же расстояние", что сузит поиск до одной прямой
7. Найти "Бомбу" на одной линии

## Сложности
Основной сложностью для меня является понять, как хранить эти плоскости достаточно оптимально, чтобы не уходило много времени на обработку всех точек. Возможно, на больших плоскостях (>100x100) стоит сделать "сжатие" нескольких окон в одно и дойдя до достаточно мелкого размера площади вернуть оригинальный размер.  